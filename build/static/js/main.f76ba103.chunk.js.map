{"version":3,"sources":["services/phonenumbers.js","components/DeleteButton.js","components/PersonsList.js","components/Notification.js","components/Form.js","components/TextSearch.js","App.js","index.js"],"names":["baseUrl","axios","get","newNumber","post","person","console","log","id","window","confirm","name","delete","newPerson","put","DeleteButton","setMessage","onClick","phonenumberService","then","message","error","catch","PersonsList","props","persons","map","key","number","messageStyle","color","fontSize","background","borderStyle","borderColor","padding","marginBottom","errorStyle","Notification","text","style","Form","setPersons","useState","setNewNumber","newName","setNewName","onSubmit","event","preventDefault","nameObject","some","find","response","data","concat","setTimeout","value","onChange","target","type","TextSearch","setText","setFilterList","filter","toLowerCase","startsWith","App","textSearch","filterList","useEffect","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f76ba103.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst addName = (newNumber) => {\n    return axios.post(baseUrl, newNumber)\n}\n\nconst deleteNumber = (person) => {\n    console.log(`${baseUrl}/${person.id}`);\n    const result = window.confirm(`Do you want to delete ${person.name}?`)\n    if (result) {\n        return (\n            axios.delete(`${baseUrl}/${person.id}`)\n            )\n    }\n}\n\nconst update = (id, newPerson) => {\n    const result = window.confirm(`${newPerson.name} is already added to phonebook, \n        replace the old number with a new one?`)\n    if (result) {\n        return( \n            axios.put(`${baseUrl}/${id}`, newPerson)\n        )\n    }\n\n}\n\nexport default {getAll, addName, deleteNumber, update}","import React from 'react'\nimport phonenumberService from '../services/phonenumbers'\n\n\n\nconst DeleteButton = ({person, setMessage}) => {\n\n    const deleteNumber = () => {\n        phonenumberService.deleteNumber(person)\n        .then(\n            setMessage({message:`${person.name} was deleted from phonebook`, error:false})\n        )\n        .catch(error => {\n            setMessage({message:`${person.name} does not exist in phonebook`, error:true})\n        })\n        }\n\n    return (\n        <>\n        <button onClick={deleteNumber}>delete</button>\n        </>\n    )\n    \n}\n\nexport default DeleteButton","import React from 'react'\nimport DeleteButton from './DeleteButton'\n\nconst PersonsList = (props) => {\n\n    const persons = props.persons\n    const setMessage = props.setMessage\n\n\n    return (\n        <div>\n            {persons.map(person => \n            <p key={person.name}>{person.name} {person.number} \n            <DeleteButton person={person} setMessage={setMessage} /></p>)}\n        </div>\n    )\n}\n\n\nexport default PersonsList","import React from 'react'\nconst messageStyle = {\n    color: 'green',\n    fontSize: '20px',\n    background: 'lightgray',\n    borderStyle: 'solid',\n    borderColor: 'green',\n    padding: '10px',\n    marginBottom: '10px',\n}\nconst errorStyle = {\n    color: 'red',\n    fontSize: '20px',\n    background: 'lightgray',\n    borderStyle: 'solid',\n    borderColor: 'red',\n    padding: '10px',\n    marginBottom: '10px',\n}\nconst Notification = ({message}) => {\n    \n    const error = message.error\n    const text = message.message\n    \n    if (text === null) {\n        return null\n    }\n    else if (error) {\n        return (\n            <div style={errorStyle}>\n                {text}\n            </div>\n        )\n    }\n   \n        return (\n        <div style={messageStyle}>\n            {text}\n        </div>\n    )\n        \n\n}\n\nexport default Notification","import React, { useState } from 'react'\nimport phonenumberService from '../services/phonenumbers'\n\nconst Form = ({ persons, setPersons, setMessage }) => {\n    const [newNumber, setNewNumber] = useState('')\n    const [newName, setNewName] = useState('')\n\n    // get number input and set that as newNumber\n    const changeNumber = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    // event handler to get the input and set that as newName\n    const changeName = (event) => {\n        setNewName(event.target.value)\n    }\n\n    // handles submitting a name - if name is not included then uses phonenumberService to add name \n    const addName = (event) => {\n        event.preventDefault()\n        const nameObject = {\n            name: newName,\n            number: newNumber,\n        }\n        persons.some(person => person.name === newName)\n            ?   phonenumberService.update(\n                persons.find(person=>person.name===newName).id,\n                    {...persons.find(person=>person.name===newName), \n                    number: newNumber})\n                    .then(response => {\n                        setMessage({message:`${newName}'s number was changed`, error:false})\n                        phonenumberService.getAll()\n                        .then(response => setPersons(response.data))\n                    })\n                    .catch(error => {\n                        setMessage(\n                            {message:`${newName} does not exist in the phonebook`,\n                            error:true}\n                        )\n                    })     \n            :   phonenumberService.addName(nameObject)\n                .then(response => {\n                    setMessage({message: nameObject.name + ' was added to phonebook', error: false})\n                    setPersons(persons.concat(response.data))\n                })\n                .catch(error => {\n                    setMessage(\n                        {message: `${error.response.data.error}`,\n                        error:true}\n                    )\n                    console.log('error response data:', error.response.data.name);\n                })\n                console.log(nameObject);\n        setNewName('')\n        setNewNumber('')\n        setTimeout(() => {\n            setMessage({message:null, error:false})\n        }, 5000)\n    }\n\n    return (\n        <div>\n            <form onSubmit={addName}>\n                <div>\n                    name: <input value={newName} onChange={changeName} />\n                </div>\n                <div>number: <input value={newNumber} onChange={changeNumber} /></div>\n                <div>\n                    <button type=\"submit\">\n                        add\n                    </button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Form","import React from 'react'\nconst TextSearch = (props) => {\n\n    const searchText = (event) => {\n        props.setText(event.target.value)\n        props.setFilterList(props.persons.filter(function (person) {\n            return person.name.toLowerCase().startsWith(event.target.value.toLowerCase())\n        }))\n    }\n    return (\n\n        <div>\n            filter shown with <input onChange={searchText} />\n        </div>\n    )\n}\n\nexport default TextSearch","import React, { useState, useEffect } from 'react'\nimport PersonsList from './components/PersonsList'\nimport Notification from './components/Notification'\nimport Form from './components/Form'\nimport TextSearch from './components/TextSearch'\nimport phonenumberService from './services/phonenumbers'\n\nconst App = () => {\n\n    const [persons, setPersons] = useState([])\n    const [textSearch, setText] = useState('')\n    const [filterList, setFilterList] = useState(persons)\n    const [message, setMessage] = useState({message: null, error: false})\n\n    useEffect(() => {\n        console.log('effect');\n        phonenumberService.getAll()\n            .then(response => {\n                setPersons(response.data)\n                console.log('get person data', response.data);\n            })\n    }, [])\n    console.log('render', persons.length, 'persons');\n\n    if (textSearch !== '') {\n        return (\n            <div>\n                <h2>\n                    Phonebook\n                </h2>\n                <Notification message={message}/>\n                <TextSearch textSearch={textSearch} setText={setText} setFilterList={setFilterList} persons={persons} />\n\n                <h2>add a new</h2>\n                <Form persons={persons} setPersons={setPersons} setMessage={setMessage} />\n                <h2>Numbers</h2>\n                <PersonsList persons={filterList} setMessage={setMessage} />\n            </div>\n        )\n    }\n\n    else return (\n        <div>\n            <h2>\n                Phonebook\n            </h2>\n            <Notification message={message}/>\n            <TextSearch textSearch={textSearch} setText={setText} setFilterList={setFilterList} persons={persons} />\n\n            <h2>add a new</h2>\n            <Form persons={persons} setPersons={setPersons} setMessage={setMessage} />\n            <h2>Numbers</h2>\n            <PersonsList persons={persons} setMessage={setMessage} />\n        </div>\n    )\n}\n\nexport default App\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n\n    <App />,\n\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}